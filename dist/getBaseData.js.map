{"version":3,"sources":["webpack:///getBaseData.js","webpack:///webpack/bootstrap d9cb1f49ee534a4ad1f5?c06f********","webpack:///./res/config/utility.js?8c87********","webpack:///./res/lib/cookie.js?2a78********","webpack:///./res/config/ajax.js","webpack:///./res/controllers/getBaseData.js","webpack:///./res/config/env.js?355c********"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","1","getUrlParam","replace","regexS","regex","RegExp","results","exec","window","location","search","decodeURIComponent","2","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","registeredInModuleLoader","undefined","OldCookies","Cookies","api","noConflict","extend","result","arguments","length","attributes","key","init","converter","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","JSON","stringify","test","e","write","encodeURIComponent","String","escape","cookie","toUTCString","domain","secure","join","cookies","split","rdecode","parts","slice","charAt","read","this","json","parse","set","getJSON","apply","remove","withConverter","31","url","fn","obj","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","send","35","getLocation","callback","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","Cookie","env","utility","Ajax","localStorage","console","log","href","lat","lng","datas","data","4"],"mappings":"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","file":"getBaseData.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 35);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 1:\n/***/ function(module, exports) {\n\nmodule.exports = {\n  // 获取url参数\n  getUrlParam: function (name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(window.location.search);\n    if (results == null) return \"\";else return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n  }\n};\n\n/***/ },\n\n/***/ 2:\n/***/ function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.1.3\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n    var registeredInModuleLoader = false;\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        registeredInModuleLoader = true;\n    }\n    if (true) {\n        module.exports = factory();\n        registeredInModuleLoader = true;\n    }\n    if (!registeredInModuleLoader) {\n        var OldCookies = window.Cookies;\n        var api = window.Cookies = factory();\n        api.noConflict = function () {\n            window.Cookies = OldCookies;\n            return api;\n        };\n    }\n})(function () {\n    function extend() {\n        var i = 0;\n        var result = {};\n        for (; i < arguments.length; i++) {\n            var attributes = arguments[i];\n            for (var key in attributes) {\n                result[key] = attributes[key];\n            }\n        }\n        return result;\n    }\n\n    function init(converter) {\n        function api(key, value, attributes) {\n            var result;\n            if (typeof document === 'undefined') {\n                return;\n            }\n\n            // Write\n\n            if (arguments.length > 1) {\n                attributes = extend({\n                    path: '/'\n                }, api.defaults, attributes);\n\n                if (typeof attributes.expires === 'number') {\n                    var expires = new Date();\n                    expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n                    attributes.expires = expires;\n                }\n\n                try {\n                    result = JSON.stringify(value);\n                    if (/^[\\{\\[]/.test(result)) {\n                        value = result;\n                    }\n                } catch (e) {}\n\n                if (!converter.write) {\n                    value = encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n                } else {\n                    value = converter.write(value, key);\n                }\n\n                key = encodeURIComponent(String(key));\n                key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n                key = key.replace(/[\\(\\)]/g, escape);\n\n                return document.cookie = [key, '=', value, attributes.expires ? '; expires=' + attributes.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n                attributes.path ? '; path=' + attributes.path : '', attributes.domain ? '; domain=' + attributes.domain : '', attributes.secure ? '; secure' : ''].join('');\n            }\n\n            // Read\n\n            if (!key) {\n                result = {};\n            }\n\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all. Also prevents odd result when\n            // calling \"get()\"\n            var cookies = document.cookie ? document.cookie.split('; ') : [];\n            var rdecode = /(%[0-9A-Z]{2})+/g;\n            var i = 0;\n\n            for (; i < cookies.length; i++) {\n                var parts = cookies[i].split('=');\n                var cookie = parts.slice(1).join('=');\n\n                if (cookie.charAt(0) === '\"') {\n                    cookie = cookie.slice(1, -1);\n                }\n\n                try {\n                    var name = parts[0].replace(rdecode, decodeURIComponent);\n                    cookie = converter.read ? converter.read(cookie, name) : converter(cookie, name) || cookie.replace(rdecode, decodeURIComponent);\n\n                    if (this.json) {\n                        try {\n                            cookie = JSON.parse(cookie);\n                        } catch (e) {}\n                    }\n\n                    if (key === name) {\n                        result = cookie;\n                        break;\n                    }\n\n                    if (!key) {\n                        result[name] = cookie;\n                    }\n                } catch (e) {}\n            }\n\n            return result;\n        }\n\n        api.set = api;\n        api.get = function (key) {\n            return api.call(api, key);\n        };\n        api.getJSON = function () {\n            return api.apply({\n                json: true\n            }, [].slice.call(arguments));\n        };\n        api.defaults = {};\n\n        api.remove = function (key, attributes) {\n            api(key, '', extend(attributes, {\n                expires: -1\n            }));\n        };\n\n        api.withConverter = init;\n\n        return api;\n    }\n\n    return init(function () {});\n});\n\n/***/ },\n\n/***/ 31:\n/***/ function(module, exports) {\n\nmodule.exports = {\n    get: function (url, fn) {\n        var obj = new XMLHttpRequest(); // XMLHttpRequest对象用于在后台与服务器交换数据          \n        obj.open('GET', url, false);\n        obj.onreadystatechange = function () {\n            if (obj.readyState == 4 && obj.status == 200 || obj.status == 304) {\n                // readyState==4说明请求已完成\n                fn.call(this, obj.responseText); //从服务器获得数据\n            }\n        };\n        obj.send(null);\n    }\n};\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\nvar Cookie = __webpack_require__(2);\nvar env = __webpack_require__(4);\nvar utility = __webpack_require__(1);\nvar Ajax = __webpack_require__(31);\n\n// vue-resource 不支持同步调用 用原生代替\n\n// 获取用户定位\nfunction getLocation(callback) {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(function (p) {\n            callback(p.coords.latitude, p.coords.longitude);\n        }, function (e) {\n            callback(31, 121);\n            //  var msg = e.code + \"\\n\" + e.message;\n            // alert('定位失败')\n        });\n    }\n}\n\nif (!Cookie('mapDataExpires') || !localStorage['mapData']) {\n    // var lat = 31;\n    // var lng = 121;\n    getLocation(function (lat, lng) {\n        Ajax.get(env.api + 'constants.json?lat=' + lat + \"&lng=\" + lng, function (datas) {\n            var datas = JSON.parse(datas);\n            Cookie('mapDataExpires', true, { expires: 1 });\n            localStorage['mapData'] = JSON.stringify(datas.data);\n            window.location.href = utility.getUrlParam('page_ref');\n        });\n    });\n    console.log(utility.getUrlParam('page_ref'));\n} else {\n    console.log(utility.getUrlParam('page_ref'));\n    window.location.href = utility.getUrlParam('page_ref');\n}\n\n/***/ },\n\n/***/ 4:\n/***/ function(module, exports) {\n\nmodule.exports = {\n    api: \"https://api.ct.moyobar.com/\"\n};\n\n/***/ }\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// getBaseData.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 35);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d9cb1f49ee534a4ad1f5","module.exports = {\n    // 获取url参数\n    getUrlParam : function(name){\n        name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");  \n          var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";  \n          var regex = new RegExp(regexS);  \n          var results = regex.exec(window.location.search);  \n          if(results == null)  \n            return \"\";  \n          else  \n            return decodeURIComponent(results[1].replace(/\\+/g, \" \"));  \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./res/config/utility.js","/*!\n * JavaScript Cookie v2.1.3\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n    var registeredInModuleLoader = false;\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n        registeredInModuleLoader = true;\n    }\n    if (typeof exports === 'object') {\n        module.exports = factory();\n        registeredInModuleLoader = true;\n    }\n    if (!registeredInModuleLoader) {\n        var OldCookies = window.Cookies;\n        var api = window.Cookies = factory();\n        api.noConflict = function () {\n            window.Cookies = OldCookies;\n            return api;\n        };\n    }\n}(function () {\n    function extend () {\n        var i = 0;\n        var result = {};\n        for (; i < arguments.length; i++) {\n            var attributes = arguments[ i ];\n            for (var key in attributes) {\n                result[key] = attributes[key];\n            }\n        }\n        return result;\n    }\n\n    function init (converter) {\n        function api (key, value, attributes) {\n            var result;\n            if (typeof document === 'undefined') {\n                return;\n            }\n\n            // Write\n\n            if (arguments.length > 1) {\n                attributes = extend({\n                    path: '/'\n                }, api.defaults, attributes);\n\n                if (typeof attributes.expires === 'number') {\n                    var expires = new Date();\n                    expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n                    attributes.expires = expires;\n                }\n\n                try {\n                    result = JSON.stringify(value);\n                    if (/^[\\{\\[]/.test(result)) {\n                        value = result;\n                    }\n                } catch (e) {}\n\n                if (!converter.write) {\n                    value = encodeURIComponent(String(value))\n                        .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n                } else {\n                    value = converter.write(value, key);\n                }\n\n                key = encodeURIComponent(String(key));\n                key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n                key = key.replace(/[\\(\\)]/g, escape);\n\n                return (document.cookie = [\n                    key, '=', value,\n                    attributes.expires ? '; expires=' + attributes.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n                    attributes.path ? '; path=' + attributes.path : '',\n                    attributes.domain ? '; domain=' + attributes.domain : '',\n                    attributes.secure ? '; secure' : ''\n                ].join(''));\n            }\n\n            // Read\n\n            if (!key) {\n                result = {};\n            }\n\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all. Also prevents odd result when\n            // calling \"get()\"\n            var cookies = document.cookie ? document.cookie.split('; ') : [];\n            var rdecode = /(%[0-9A-Z]{2})+/g;\n            var i = 0;\n\n            for (; i < cookies.length; i++) {\n                var parts = cookies[i].split('=');\n                var cookie = parts.slice(1).join('=');\n\n                if (cookie.charAt(0) === '\"') {\n                    cookie = cookie.slice(1, -1);\n                }\n\n                try {\n                    var name = parts[0].replace(rdecode, decodeURIComponent);\n                    cookie = converter.read ?\n                        converter.read(cookie, name) : converter(cookie, name) ||\n                        cookie.replace(rdecode, decodeURIComponent);\n\n                    if (this.json) {\n                        try {\n                            cookie = JSON.parse(cookie);\n                        } catch (e) {}\n                    }\n\n                    if (key === name) {\n                        result = cookie;\n                        break;\n                    }\n\n                    if (!key) {\n                        result[name] = cookie;\n                    }\n                } catch (e) {}\n            }\n\n            return result;\n        }\n\n        api.set = api;\n        api.get = function (key) {\n            return api.call(api, key);\n        };\n        api.getJSON = function () {\n            return api.apply({\n                json: true\n            }, [].slice.call(arguments));\n        };\n        api.defaults = {};\n\n        api.remove = function (key, attributes) {\n            api(key, '', extend(attributes, {\n                expires: -1\n            }));\n        };\n\n        api.withConverter = init;\n\n        return api;\n    }\n\n    return init(function () {});\n}));\n\n\n// WEBPACK FOOTER //\n// ./res/lib/cookie.js","module.exports = {\n    get : function (url,fn){\n        var obj=new XMLHttpRequest();  // XMLHttpRequest对象用于在后台与服务器交换数据          \n        obj.open('GET',url,false);\n        obj.onreadystatechange=function(){\n            if (obj.readyState == 4 && obj.status == 200 || obj.status == 304) { // readyState==4说明请求已完成\n                fn.call(this, obj.responseText);  //从服务器获得数据\n            }\n        };\n        obj.send(null);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./res/config/ajax.js","var Cookie = require('../lib/cookie');\nvar env = require('../config/env');\nvar utility = require('../config/utility');\nvar Ajax = require('../config/ajax');\n\n// vue-resource 不支持同步调用 用原生代替\n\n// 获取用户定位\nfunction getLocation(callback){\n    if(navigator.geolocation){\n        navigator.geolocation.getCurrentPosition(\n            function(p){\n                callback(p.coords.latitude, p.coords.longitude);\n            },\n            function(e){\n                callback(31,121)\n               //  var msg = e.code + \"\\n\" + e.message;\n               // alert('定位失败')\n            }\n        );\n    }\n}\n\nif(!Cookie('mapDataExpires') || !localStorage['mapData']){\n    // var lat = 31;\n    // var lng = 121;\n    getLocation(function(lat,lng){\n        Ajax.get(env.api+'constants.json?lat='+lat + \"&lng=\"+lng,function(datas){\n            var datas = JSON.parse(datas);\n            Cookie('mapDataExpires',true,{ expires: 1});\n            localStorage['mapData'] = JSON.stringify(datas.data);\n            window.location.href= utility.getUrlParam('page_ref')\n        })\n    })\n    console.log(utility.getUrlParam('page_ref'))\n}else{\n    console.log(utility.getUrlParam('page_ref'))\n    window.location.href= utility.getUrlParam('page_ref')\n}\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./res/controllers/getBaseData.js","module.exports = {\n    api : \"https://api.ct.moyobar.com/\"\n}\n\n\n// WEBPACK FOOTER //\n// ./res/config/env.js"],"sourceRoot":""}